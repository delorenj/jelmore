# Jelmore Environment Configuration

# =============================================================================
# CORE APPLICATION
# =============================================================================

# Domain and Service Configuration
DOMAIN=localhost
COMPOSE_PROJECT_NAME=jelmore

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL
POSTGRES_USER=jelmore
POSTGRES_PASSWORD=jelmore_secure_password_change_me
POSTGRES_DB=jelmore
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://jelmore:jelmore_secure_password_change_me@postgres:5432/jelmore
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Cache and Sessions
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379
REDIS_MAX_CONNECTIONS=50
REDIS_PASSWORD=

# =============================================================================
# MESSAGE BROKER (NATS)
# =============================================================================

NATS_URL=nats://nats:4222
NATS_CLIENT_PORT=4222
NATS_HTTP_PORT=8222
NATS_CLUSTER_ID=jelmore-cluster
NATS_CLIENT_ID=jelmore-api

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# API Keys (Generate secure random keys!)
API_KEY_ADMIN=jelmore-admin-key-CHANGE-ME-TO-RANDOM-STRING
API_KEY_CLIENT=jelmore-client-key-CHANGE-ME-TO-RANDOM-STRING  
API_KEY_READONLY=jelmore-readonly-key-CHANGE-ME-TO-RANDOM-STRING
API_KEY_HEADER=X-API-Key

# Session Management
MAX_CONCURRENT_SESSIONS=50
SESSION_CLEANUP_INTERVAL_SECONDS=300
SESSION_DEFAULT_TIMEOUT_SECONDS=7200

# CORS Origins (comma-separated)
CORS_ORIGINS=https://33god.com,https://*.33god.com,http://localhost:3000,http://localhost:3360

# =============================================================================
# TRAEFIK & SSL
# =============================================================================

# Cloudflare (for DNS challenge SSL)
CLOUDFLARE_EMAIL=your-email@example.com
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# Let's Encrypt Email
LETSENCRYPT_EMAIL=admin@33god.com

# =============================================================================
# CLAUDE CODE INTEGRATION
# =============================================================================

CLAUDE_CODE_BIN=claude
CLAUDE_CODE_MAX_TURNS=20
CLAUDE_CODE_TIMEOUT_SECONDS=600

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Set to 'true' for development mode
DEBUG=false

# Development ports (only used in dev mode)
DEV_API_PORT=8000
DEV_POSTGRES_PORT=5432
DEV_REDIS_PORT=6379
DEV_NATS_CLIENT_PORT=4222
DEV_NATS_HTTP_PORT=8222

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Metrics and Health Checks
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Prometheus (if enabled)
PROMETHEUS_PORT=9090

# Grafana (if enabled)  
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin_change_me

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# Production Environment Marker
ENVIRONMENT=development

# Production Database (override DATABASE_URL for production)
# PRODUCTION_DATABASE_URL=postgresql+asyncpg://user:pass@prod-db:5432/jelmore

# Production Redis (override REDIS_URL for production)
# PRODUCTION_REDIS_URL=redis://prod-redis:6379/0

# Production NATS
# PRODUCTION_NATS_URL=nats://prod-nats:4222

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================

# Override container names if needed
TRAEFIK_CONTAINER_NAME=jelmore-traefik
JELMORE_CONTAINER_NAME=jelmore-api
POSTGRES_CONTAINER_NAME=jelmore-postgres
REDIS_CONTAINER_NAME=jelmore-redis
NATS_CONTAINER_NAME=jelmore-nats

# Network Configuration
NETWORK_NAME=33god_network
NETWORK_SUBNET=172.20.0.0/16

# Volume Names
POSTGRES_VOLUME=jelmore_postgres_data
REDIS_VOLUME=jelmore_redis_data
NATS_VOLUME=jelmore_nats_data
TRAEFIK_VOLUME=jelmore_traefik_data