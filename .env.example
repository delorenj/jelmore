# Jelmore Environment Configuration
# Copy this file to .env and set your actual values
# Never commit .env files to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="Jelmore"
APP_VERSION="0.1.0"
DEBUG=false

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# PostgreSQL connection details
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=jelmore
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=jelmore

# Database pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# NATS MESSAGING
# =============================================================================
NATS_URL=nats://localhost:4222
NATS_SUBJECT_PREFIX=jelmore

# =============================================================================
# CLAUDE CODE INTEGRATION
# =============================================================================
CLAUDE_CODE_BIN=claude
CLAUDE_CODE_MAX_TURNS=10
CLAUDE_CODE_TIMEOUT=300

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================
MAX_CONCURRENT_SESSIONS=10
SESSION_KEEPALIVE_INTERVAL=30
SESSION_OUTPUT_BUFFER_SIZE=1000
SESSION_DEFAULT_TIMEOUT_SECONDS=1800
SESSION_CLEANUP_INTERVAL_SECONDS=300
SESSION_MONITORING_INTERVAL_SECONDS=60

# =============================================================================
# SECURITY (REQUIRED FOR PRODUCTION)
# =============================================================================
# API Keys - Generate strong, unique keys for each role
# Example: openssl rand -hex 32
API_KEY_ADMIN=your-admin-api-key-here
API_KEY_CLIENT=your-client-api-key-here
API_KEY_READONLY=your-readonly-api-key-here

# API Key header name
API_KEY_HEADER=X-API-Key

# CORS origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# DOCKER SPECIFIC
# =============================================================================
# These are used by Docker Compose and should match the above values
# Docker will use these for container networking

# Database (Docker internal networking)
DATABASE_URL=postgresql+asyncpg://jelmore:${POSTGRES_PASSWORD}@postgres:5432/jelmore

# Redis (Docker internal networking)
REDIS_URL=redis://redis:6379/0

# NATS (Docker internal networking)
NATS_URL=nats://nats:4222
NATS_CLUSTER_ID=jelmore-cluster
NATS_CLIENT_ID=jelmore-api

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
# Example production values (adjust as needed)

# For production database (external)
# DATABASE_URL=postgresql+asyncpg://username:password@db-host:5432/database

# For production Redis (external)
# REDIS_URL=redis://redis-host:6379/0

# For production NATS (external)
# NATS_URL=nats://nats-host:4222

# Production API keys (generate unique values)
# API_KEY_ADMIN=prod-admin-key-32-chars-minimum
# API_KEY_CLIENT=prod-client-key-32-chars-minimum
# API_KEY_READONLY=prod-readonly-key-32-chars-minimum

# Production CORS (specific domains only)
# CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# 1. Generate secure passwords: openssl rand -base64 32
# 2. Generate API keys: openssl rand -hex 32
# 3. Test configuration: python -c "from src.jelmore.config import get_settings; print('Config valid!')"
# 4. Validate secrets: Never commit actual secrets to version control
# 5. Use Docker secrets in production for sensitive values